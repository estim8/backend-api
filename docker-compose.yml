version: '3'
services:
  backend-api:
    container_name: 'estim8-backend'
    build:
      context: .
      dockerfile: Dockerfile
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
      - PersistenceConfiguration:RedisConfiguration:Hosts:0:Host=estim8-redis
      - PersistenceConfiguration:RedisConfiguration:Hosts:0:Port=6379
    ports: ['33000:5000']
    networks: 
      - backend
    depends_on: 
      - 'redis'
  redis:
    container_name: 'estim8-redis'
    ports: ['6379']
    image: 'redis:alpine'
    networks: 
      - backend

networks: 
  backend: